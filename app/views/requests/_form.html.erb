<div class='container'>
  <div class='row align-items-center'>
    <div class='col'>
      <%= form_with(model: request, local: true) do |form| %>
        <% if request.errors.any? %>
          <div id='error_explanation'>
            <h2 class='text-warning'><%= pluralize(request.errors.count, 'error') %> Non posso salvare la Richiesta Pratica:</h2>
            <ul>
              <% request.errors.full_messages.each do |message| %>
                <li class='text-danger' ><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>
        <div class='form-group align-items-center has-success'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form text-danger'>
                  <i class='far fa-user'></i>
                  &nbsp;
                  Cognome: 
                </div>
              </div>
              <%= form.text_field :last_name, class: 'form-control' %>
            </div>
          </div>
        </div>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form text-danger'>
                  <i class='fas fa-user'></i>
                  &nbsp;
                  Nome: 
                </div>
              </div>
              <%= form.text_field :first_name, class: 'form-control' %>
            </div>
          </div>
        </div>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form text-danger'>
                  <i class='fas fa-mobile-alt'></i>
                  &nbsp;
                  Telefono: 
                </div>
              </div>
              <%= form.text_field :mobile, class: 'form-control text-danger' %>
            </div>
          </div>
        </div>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form'>
                  <i class='far fa-envelope'></i>
                  &nbsp;
                  E-Mail: 
                </div>
              </div>
              <%= form.text_field :email, class: 'form-control' %>
            </div>
          </div>
        </div>
        <hr/>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class="custom-control custom-switch">
              <%= form.check_box :subscriber, type: 'checkbox', class: 'custom-control-input', id: 'customSwitch1', onclick: 'ShowHideDivSubscriberCategoryTwo(this)' %>
              <label class='custom-control-label' for='customSwitch1'>Iscritto/a
                <small class='text-secondary'>( se abilitato &egrave; obbligatorio l'inserimento della categoria )</small>
              </label>
            </div>
          </div>
        </div>
        <div class='form-group align-items-center' id='subscribercategory' style='display:none'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form'>
                  <i class='fas fa-square'></i>
                  &nbsp;
                  Categoria: 
                </div>
              </div>
              <%= form.collection_select(:category_id, Category.order('position ASC'), :id, :name, {:include_blank => true}, {:class => 'form-control'}) %>
            </div>
          </div>
        </div>
        <hr/>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form text-danger'>
                  <i class='fas fa-file-contract'></i>
                  &nbsp;
                  Pratica: 
                </div>
              </div>
              <%= form.collection_select(:practice_id, Practice.order('position ASC'), :id, :name, {:include_blank => true}, {:class => 'form-control'}) %>
            </div>
          </div>
        </div>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class='input-group'>
              <div class='input-group-prepend'>
                <div class='input-group-text input-group-text-form'>
                  <i class='far fa-clipboard'></i>
                  &nbsp;
                  Note: 
                </div>
              </div>
              <%= form.text_area :note, class: 'form-control' %>
            </div>
          </div>
        </div>
        <hr/>
        <div class='form-group align-items-center'>
          <div class='col'>
            <div class='input-group'>
              <%= button_tag(type: 'submit', class: 'btn btn-outline-success btn-block') do %>
                <strong>
                  <i class='fas fa-save'></i>&nbsp;&nbsp;SALVA
                </strong>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
<script type="text/javascript">
  function ShowHideDivSubscriberCategoryTwo(customSwitch1) {
      var subscriber = document.getElementById("subscribercategory");
      subscribercategory.style.display = customSwitch1.checked ? "block" : "none";
  }
</script>
